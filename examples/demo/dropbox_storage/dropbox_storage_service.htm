<script src="/static/jquery-1.4.2.min.js"></script>
<script>
var storage = {

  put: function(filepath, data) {
    if (window.localStorage.dropboxAccessToken)
    {
      jQuery.post("/put", {
        token:window.localStorage.dropboxAccessToken,
        name:filepath,
        data:data
      }, function(data, textStatus) {
        dump("Dropbox API call got " + data + "\n");
        var result = JSON.parse(data);
        if (result.status == "ok") {
          // something
        }
      })
    }
    // NOTE that the OWA code doesn't understand asynchony yet,
    // so there is no meaningful return from this async call.
  },
  
  get: function(filepath) {
  
  }
}
</script>